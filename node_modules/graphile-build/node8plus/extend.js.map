{"version":3,"sources":["../src/extend.js"],"names":["extend","aExtendedB","WeakMap","base","extra","hint","keysA","Object","keys","keysB","key","newValue","oldValue","get","indexOf","Error","obj","assign","set"],"mappings":";;;;;kBAIwBA,M;AAFxB,MAAMC,aAAa,IAAIC,OAAJ,EAAnB;;AAEe,SAASF,MAAT,CACbG,IADa,EAEbC,KAFa,EAGbC,IAHa,EAIA;AACb,QAAMC,QAAQC,OAAOC,IAAP,CAAYL,IAAZ,CAAd;AACA,QAAMM,QAAQF,OAAOC,IAAP,CAAYJ,KAAZ,CAAd;AACA,OAAK,MAAMM,GAAX,IAAkBD,KAAlB,EAAyB;AACvB,UAAME,WAAWP,MAAMM,GAAN,CAAjB;AACA,UAAME,WAAWT,KAAKO,GAAL,CAAjB;AACA,QAAIT,WAAWY,GAAX,CAAeF,QAAf,MAA6BC,QAA7B,IAAyCN,MAAMQ,OAAN,CAAcJ,GAAd,KAAsB,CAAnE,EAAsE;AACpE,YAAM,IAAIK,KAAJ,CAAW,oBAAmBL,GAAI,qBAAoBL,QAAQ,EAAG,EAAjE,CAAN;AACD;AACF;AACD,QAAMW,MAAMT,OAAOU,MAAP,CAAc,EAAd,EAAkBd,IAAlB,EAAwBC,KAAxB,CAAZ;AACAH,aAAWiB,GAAX,CAAeF,GAAf,EAAoBb,IAApB;AACA,SAAOa,GAAP;AACD","file":"extend.js","sourcesContent":["// @flow\n\nconst aExtendedB = new WeakMap();\n\nexport default function extend<Obj1: *, Obj2: *>(\n  base: Obj1,\n  extra: Obj2,\n  hint?: string\n): Obj1 & Obj2 {\n  const keysA = Object.keys(base);\n  const keysB = Object.keys(extra);\n  for (const key of keysB) {\n    const newValue = extra[key];\n    const oldValue = base[key];\n    if (aExtendedB.get(newValue) !== oldValue && keysA.indexOf(key) >= 0) {\n      throw new Error(`Overwriting key '${key}' is not allowed! ${hint || \"\"}`);\n    }\n  }\n  const obj = Object.assign({}, base, extra);\n  aExtendedB.set(obj, base);\n  return obj;\n}\n"]}